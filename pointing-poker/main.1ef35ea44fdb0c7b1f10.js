(()=>{"use strict";var e,t={3609:(e,t,r)=>{var n,s,a,i,o,c=r(3935),l=r(3727),u=r(9226),d=r(3457),m=r(4699),v=r(7294),f=r(5977),p=r(5615),h="SOCKET_CONNECTED",g="SOCKET_DISCONNECTED",j="SET_CLIENT_USER",b="SET_GAME",x="ADD_USER",y="SET_IS_DEALER_LOBBY",N="DELETE_USER",S="CHANGE_TITLE",O="RESET_STATE",C="SET_DELETE_VOTING",w="RESET_DELETE_VOTING",D="SET_DELETE_VOTING_MODAL_OPEN",E="SET_MESSAGES",I="SET_ISSUES",Z="SET_CURRENT_ISSUE",P="SET_GAME_STATUS",k="SET_POKER_GAME_SETTINGS",T="SET_IS_ROUND_RUNNING",R="SET_ROUND_VOTE_RESULTS",F="SET_IS_FLIPPED",A="SET_ISSUE_SCORE",q=function(){return{type:g}},U=function(e){return{type:j,payload:{user:e}}},V=function(e){return{type:b,payload:{game:e}}},G=function(e){return{type:y,payload:{isDealer:e}}},L=function(e){return{type:S,payload:{title:e}}},_=function(e){return{type:D,payload:e}},M=function(e){return{type:P,payload:{gameStatus:e}}},B=function(e){return{type:T,payload:{isRoundRunning:e}}},H=function(e){return{type:F,payload:{isFlipped:e}}};!function(e){e.HIGH="high",e.NORMAL="normal",e.LOW="low"}(n||(n={})),function(e){e.PASS="pass",e.COFFEE="coffee"}(s||(s={})),function(e){e.DEALER="dealer",e.MEMBER="member",e.OBSERVER="observer"}(a||(a={})),function(e){e.LOBBY="lobby",e.POKER="poker",e.CANCEL="cancelGame"}(i||(i={})),function(e){e.fibonacci="Fibonacci",e.powersOfTwo="Powers of 2",e.customCardSet="Custom CardSet"}(o||(o={}));const W=JSON.parse('{"y6":"req-start-game","Yn":"req-user-join","sE":"res-user-joined","qB":"req-user-delete","Ay":"res-user-deleted","Zp":"req-title-change","CP":"res-title-changed","Cc":"req-room-check","Zt":"req-start-vote","eg":"res-start-vote","aP":"req-result-vote","EJ":"res-result-vote","Az":"req-message-add","mB":"res-messages-get","Gd":"req-issue-add","ec":"req-issue-delete","WS":"req-issue-update","e3":"req-select-issue","k8":"res-select-issue","k2":"res-issues-get","Be":"req-start-poker","a0":"res-start-poker","OI":"req-cancel-game","pX":"res-cancel-game","tl":"req-start-round","nU":"res-start-round","Ee":"req-finish-round","py":"res-finish-round","KT":"req-round-vote","Xu":"res-round-vote","_T":"req-cards-flip","gd":"res-cards-flip","kU":"req-set-score","sb":"res-set-score","Zo":"Sorry, you have been kicked from the game!","V6":"dealer","Dl":"member","M_":"observer","H7":3,"SK":"https://pointing-poker-brest.herokuapp.com/","tw":"Error! Server is not connected!","vv":"Error! Game not found!","W$":"poker","XE":"pass","in":"coffee","PK":"lobby","eR":{"V":300},"lv":{"Fv":12,"dk":20,"xc":17,"M2":15,"K3":22},"O9":{"e":"#60DABF75"},"Ty":{"a":["0","1","2","3","5","8","13","21","pass","coffee"],"X":["0","1","2","4","8","16","pass","coffee"]},"he":{"PD":true,"MD":true,"Uw":0,"QG":20}}');var z=r(5893),J=(0,v.createContext)(null),K=W.SK;const Y=function(e){var t,r=e.children;t||(t=(0,p.io)(K));var n=(0,u.I0)(),s=(0,f.k6)(),a=(0,u.v9)((function(e){return e.client.clientUser})),o=(0,u.v9)((function(e){return e.game})),c=(0,v.useState)(""),l=(0,m.Z)(c,2),d=l[0],g=l[1],j={},b=function(){s.push("/"),n({type:O}),n(M(i.CANCEL)),t=(0,p.io)(K),j={}},y=function(e){console.log("User ".concat(e," deleted notification...")),e===j.id?b():n(function(e){return{type:N,payload:{userID:e}}}(e))};t.on(W.CP,(function(e){console.log("Title ".concat(e," changed...")),n(L(e))})),t.on("connect",(function(){n({type:h}),console.log("Server connected...")})),t.on("disconnect",(function(){console.log("Server disconnected..."),n(q())})),t.on("connect_error",(function(){console.log("Connection error..."),n(q())})),t.on(W.sE,(function(e){n(function(e){return{type:x,payload:{user:e}}}(e)),console.log("User id".concat(e.firstName," ").concat(e.lastName," joined..."))})),t.on(W.Ay,(function(e){y(e)})),t.on(W.eg,(function(e){j.role!==W.V6&&j.id!==e.removerUserID&&n(function(e){return{type:C,payload:{deleteVotingData:e}}}(e)),console.log("Voting to delete user ".concat(e.deleteUserFullName,"\n      by ").concat(e.removerUserFullName," started...\n      Data: ").concat(JSON.stringify(e)))})),t.on(W.EJ,(function(e){e.isDeleted&&(e.deletedUserID===j.id&&g(W.Zo),y(e.deletedUserID)),n({type:w})})),t.on(W.mB,(function(e){console.log("Messages received: ".concat(e)),n(function(e){return{type:E,payload:{messages:e}}}(e))})),t.on(W.k2,(function(e){console.log("Issues received: ".concat(e)),n(function(e){return{type:I,payload:{issues:e}}}(e))})),t.on(W.a0,(function(e){console.log(e)})),t.on(W.a0,(function(e){n(function(e){return{type:k,payload:e}}(e)),s.push("/game")})),t.on(W.pX,(function(e){console.log("Game canceled !"),"cancel"===e.gameStatus&&b()})),t.on(W.k8,(function(e){console.log("Issue selected: ".concat(e)),n(function(e){return{type:Z,payload:{issueID:e}}}(e))})),t.on(W.nU,(function(e){console.log("round started: ".concat(e)),n(B(e)),n(H(!1))})),t.on(W.py,(function(e){console.log("round finished: ".concat(JSON.stringify(e))),n(B(!1))})),t.on(W.Xu,(function(e){console.log("vote accepted: ".concat(JSON.stringify(e))),n(function(e){return{type:R,payload:{roundVoteResults:e}}}(e))})),t.on(W.gd,(function(e){console.log("cards flipped: ".concat(e)),n(H(e))})),t.on(W.sb,(function(e){var t=e.score;console.log("Current issue score setted: ".concat(t)),n(function(e){return{type:A,payload:{scoreData:e}}}(e))}));var S={socket:t,requestStartGame:function(e){var r;null===(r=t)||void 0===r||r.emit(W.y6,e,(function(e){console.log("Game ".concat(JSON.stringify(e)," started...")),n(U(e)),j=e,n(V({dealer:e,room:e.room})),n(G(!0)),n(M(i.LOBBY)),s.push("/lobby")}))},requestUserJoin:function(e){var r;null===(r=t)||void 0===r||r.emit(W.Yn,e,(function(t){console.log("User ".concat(e.firstName," ").concat(e.lastName," join requested...")),n(U(e)),j=e,console.log("Game data received..."),n(V(t)),n(G(!1)),n(M(i.LOBBY)),s.push("/lobby")}))},requestUserDelete:function(e){if(a.role===W.V6){var r,n={dealerID:a.id,userID:e,room:o.room};null===(r=t)||void 0===r||r.emit(W.qB,n,(function(t){console.log("User ".concat(e," delete requested...")),t.id&&console.log("User ".concat(t.id," deleted..."))}))}else{var s,i={room:o.room,removerUserID:a.id,deleteUserID:e};null===(s=t)||void 0===s||s.emit(W.Zt,i),console.log("User ".concat(e," delete vote requested... Data: ").concat(JSON.stringify(i)))}},checkIsRoomExists:function(e,r,n){var s;null===(s=t)||void 0===s||s.emit(W.Cc,{room:e},(function(t){console.log("Room ".concat(e," ").concat(t?"exists":"not exists","...")),r(t),n(!t)}))},requestTitleChange:function(e){var r;null===(r=t)||void 0===r||r.emit(W.Zp,{title:e,room:a.room}),console.log("Title ".concat(e," change requested..."))},clientExit:function(){var e;console.log("User ".concat(a.id," exit requested...")),null===(e=t)||void 0===e||e.emit(W.qB,{dealerID:o.dealer.id,userID:a.id,room:o.room},(function(e){e.id&&(console.log("User ".concat(e.id," deleted...")),b())}))},requestDeleteVoteFinish:function(e){var r,n={room:o.room,result:e};null===(r=t)||void 0===r||r.emit(W.aP,n)},notification:d,setNotification:g,requestAddMessage:function(e){var r;null===(r=t)||void 0===r||r.emit(W.Az,e),console.log("Requested add message: ".concat(JSON.stringify(e)))},requestAddIssue:function(e){var r;null===(r=t)||void 0===r||r.emit(W.Gd,e),console.log("Requested add issue: ".concat(JSON.stringify(e)))},requestUpdateIssue:function(e){var r;console.log("Requested update issue: ".concat(JSON.stringify(e))),null===(r=t)||void 0===r||r.emit(W.WS,e)},requestDeleteIssue:function(e){var r;console.log("Requested delete issue: ".concat(JSON.stringify(e))),null===(r=t)||void 0===r||r.emit(W.ec,e)},requestCancelGame:function(){var e,r={room:o.room};null===(e=t)||void 0===e||e.emit(W.OI,r),console.log("Game cancel requested")},requestPokerGameStart:function(e){var r;null===(r=t)||void 0===r||r.emit(W.Be,e)},requestSelectIssue:function(e){var r,n={issueID:e,roomID:o.room};console.log("Requested select issue ".concat(n,"}")),null===(r=t)||void 0===r||r.emit(W.e3,n)},requestStartRound:function(){var e,r=o.room;console.log("Requested start round ".concat(r)),null===(e=t)||void 0===e||e.emit(W.tl,r)},requestFinishRound:function(){var e,r=o.room;console.log("Requested finish round ".concat(r)),null===(e=t)||void 0===e||e.emit(W.Ee,r)},requestRoundVote:function(e){var r,n={roomID:o.room,issueID:o.currentIssue.id,userScore:{userID:a.id,score:e}};console.log("Requested send vote ".concat(JSON.stringify(n))),null===(r=t)||void 0===r||r.emit(W.KT,n)},requestFlipCards:function(e){var r,n={roomID:o.room,isFlipped:e};console.log("Requested flip cards ".concat(JSON.stringify(n))),null===(r=t)||void 0===r||r.emit(W._T,n)},requestSetScore:function(e){var r,n={roomID:o.room,issueID:o.currentIssue.id,score:e};console.log("Requested set score ".concat(JSON.stringify(n))),null===(r=t)||void 0===r||r.emit(W.kU,n)}};return(0,z.jsx)(J.Provider,{value:S,children:r})};var X=r(4537),$=r(7723),Q=r(1120),ee=r(3901),te=(0,Q.Z)({customAvatar:{backgroundColor:W.O9.e,width:function(e){return e.width},height:function(e){return e.height}}}),re=function(e){var t=e.lastName,r=e.firstName,n=e.avatarImage,s=e.stylesProps,a=te(void 0===s?{width:"50px",height:"50px"}:s),i=t?"".concat(r.match(/^./i)).concat(t.match(/^./i)).toUpperCase():"".concat(r.match(/^./i)).concat(r.match(/.$/i)).toUpperCase();return(0,z.jsx)(ee.Z,{className:a.customAvatar,alt:t?"".concat(r," ").concat(t):r,src:n,children:i})},ne=r(8463),se=r(4697),ae=r(2318),ie=(0,Q.Z)({card:{display:"flex",flexDirection:"column",alignItems:"flex-start",columnGap:"10px",padding:"5px",height:"auto",width:"auto",backgroundColor:function(e){return e.isCurrentUser?"#ffc482":"#fff"}},content:{padding:"5px",wordBreak:"break-all"},header:{width:"200px",overflow:"hidden",whiteSpace:"nowrap",padding:"8px"}});const oe=function(e){var t=e.firstName,r=e.lastName,n=e.avatarImage,s=e.messageTime,a=e.message,i=e.isCurrentUser,o=r?"".concat(t," ").concat(r):t,c=ie({isCurrentUser:i}),l="issue-card ".concat(c.card),u=c.header,d=c.content;return(0,z.jsx)("div",{className:"message-item-container",children:(0,z.jsxs)(ne.Z,{className:l,children:[(0,z.jsxs)("div",{className:"message-user",children:[(0,z.jsx)(re,{firstName:t,lastName:r,avatarImage:n}),(0,z.jsx)(se.Z,{className:u,title:o,subheader:s})]}),(0,z.jsx)("div",{className:"message-msg",children:(0,z.jsx)(ae.Z,{className:d,variant:"body2",children:a})})]})})},ce=function(){var e=(0,v.useRef)(null),t=(0,u.v9)((function(e){return e.chat.messages})),r=(0,u.v9)((function(e){return e.game.gameStatus===W.PK})),n=(0,u.v9)((function(e){return e.game.room})),s=(0,u.v9)((function(e){return e.game.users})),a=(0,u.v9)((function(e){return e.client.clientUser})),i=(0,u.v9)((function(e){return e.game.dealer}));return(0,v.useEffect)((function(){e.current&&e.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}),[t]),(0,z.jsxs)("div",{className:"message-list-container",children:[t.map((function(e){var t=a.id===i.id;return i.id===e.userID&&(0,z.jsx)(oe,{messageID:e.messageID,messageTime:e.messageTime,room:n,userID:i.id,isLobby:r,firstName:i.firstName,lastName:i.lastName,avatarImage:i.avatar,message:e.message,isCurrentUser:t},e.messageID)||s.map((function(t){var s=a.id===t.id;return t.id===e.userID&&(0,z.jsx)(oe,{messageID:e.messageID,messageTime:e.messageTime,room:n,userID:t.id,isLobby:r,firstName:t.firstName,lastName:t.lastName,avatarImage:t.avatar,message:e.message,isCurrentUser:s},e.messageID)}))})),(0,z.jsx)("div",{ref:e})]})};var le=r(9956),ue=r(3243),de=r(7812),me=function(){return"_"+Math.random().toString(36).substr(2,9)};const ve=function(){var e=(0,v.useState)(""),t=(0,m.Z)(e,2),r=t[0],n=t[1],s=(0,u.v9)((function(e){return e.game.room})),a=(0,u.v9)((function(e){return e.client.clientUser})),i=(0,v.useContext)(J),o=function(){var e=me(),t=new Date,o=t.getHours(),c=t.getMinutes(),l={messageID:e,messageTime:"".concat(o,":").concat(c),room:s,userID:a.id,message:r};i.requestAddMessage(l),n("")};return(0,z.jsxs)("form",{className:"message-input-button-form",children:[(0,z.jsx)("div",{className:"message-input-button-input",children:(0,z.jsxs)(le.Z,{sx:{width:240,maxWidth:"100%",marginRight:"10px"},children:[" ",(0,z.jsx)(ue.Z,{variant:"outlined",value:r,onChange:function(e){"Enter"!==e.target.value&&n(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),""!==r&&o())},fullWidth:!0})]})}),(0,z.jsx)("div",{className:"message-input-button-button",children:(0,z.jsx)(de.Z,{className:"send-btn",component:"span",onClick:function(e){""!==r&&(e.preventDefault(),o())}})})]})},fe=function(){return(0,z.jsx)("div",{className:"message-form-container",children:(0,z.jsx)(ve,{})})},pe=function(){return(0,z.jsxs)("div",{className:"chat-container",children:[(0,z.jsx)(ce,{}),(0,z.jsx)(fe,{})]})},he=function(){var e=(0,v.useState)(!1),t=(0,m.Z)(e,2),r=t[0],n=t[1],s=function(){n(!r)};return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("header",{className:"header",children:[(0,z.jsx)("div",{className:"header-up",children:(0,z.jsx)("div",{className:"container header-up-wrapper",children:(0,z.jsx)("div",{className:"chat-wrapper",children:(0,z.jsx)("div",{tabIndex:0,role:"button",className:"chat-icon","aria-label":"Open chat",onClick:s,onKeyDown:s})})})}),(0,z.jsx)("div",{className:"header-down",children:(0,z.jsx)("div",{className:"container logo-wrapper",children:(0,z.jsx)(l.OL,{exact:!0,className:"logo",to:"/"})})}),r&&(0,z.jsx)(pe,{})]})})};var ge=function(e){var t=e.link,r=e.style,n=e.children;return(0,z.jsx)("a",{href:t,className:r,target:"_blank",rel:"noopener noreferrer",children:n})},je=[{name:"utrennik",link:"https://github.com/utrennik"},{name:"RealOneReal",link:"https://github.com/RealOneReal"},{name:"HelenBassa",link:"https://github.com/HelenBassa"}],be={link:"https://rs.school/react/",year:"'21"},xe={github:"github-item",rss:"rss"};const ye=function(){var e=je,t=be,r=xe;return(0,z.jsx)("footer",{className:"footer",children:(0,z.jsxs)("div",{className:"container footer-wrapper",children:[(0,z.jsx)("div",{className:"footer-github",children:(0,z.jsx)("ul",{className:"github-list",children:e.map((function(e){var t=e.name,n=e.link;return(0,z.jsx)("li",{children:(0,z.jsx)(ge,{link:n,style:r.github,children:t})},t)}))})}),(0,z.jsx)("div",{className:"footer-rsschool",children:(0,z.jsx)(ge,{link:t.link,style:r.rss,children:(0,z.jsx)("span",{className:"rss-year",children:t.year})})})]})})};var Ne=r(282);const Se=function(e){var t=e.buttonText,r=e.valueHandler,n=e.inputLabel,s=void 0===n?"":n,a=e.initialValue,i=void 0===a?"":a,o=(0,v.useState)(i),c=(0,m.Z)(o,2),l=c[0],u=c[1];return(0,z.jsxs)("form",{className:"input-button-form",onSubmit:function(e){e.preventDefault(),r(l)},children:[(0,z.jsx)("div",{className:"input-button-input",children:(0,z.jsx)(ue.Z,{label:s,variant:"outlined",value:l,onChange:function(e){var t=e.target.value;u(t)}})}),(0,z.jsx)("div",{className:"input-button-button",children:(0,z.jsx)(Ne.Z,{variant:"contained",size:"medium",color:"primary",type:"submit",children:t})})]})};var Oe=r(6156),Ce=r(7395),we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return e.length>t?e.slice(0,t).concat("..."):e},De=function(e){var t=/link\//i;return t.test(e)?e.split(t)[1]:e},Ee=r(9143),Ie=function(e){var t=e.okBtnText,r=void 0===t?"Ok":t,n=e.cancelBtnText,s=void 0===n?"Cancel":n,a=e.onClose,i=e.onConfirm,o=e.disableConfirm;return(0,z.jsxs)("div",{className:"buttons-modal",children:[(0,z.jsx)(Ne.Z,{variant:"contained",size:"medium",onClick:a,children:s}),(0,z.jsx)(Ne.Z,{variant:"contained",size:"medium",color:"primary",onClick:i,disabled:o,children:r})]})},Ze=function(e){var t=e.isOpen,r=e.onClose,n=e.onConfirm,s=e.title,a=e.children,i=e.disableConfirm;return(0,z.jsx)(Ee.Z,{open:t,onClose:r,children:(0,z.jsxs)("div",{className:"body-modal",children:[(0,z.jsx)("h2",{className:"header-modal",children:s}),a,(0,z.jsx)(Ie,{okBtnText:"Confirm",onClose:r,onConfirm:n,disableConfirm:i})]})})};function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Te=function(e){var t=e.isOpen,r=e.onClose,n=e.roomID,s=(0,v.useState)(""),a=(0,m.Z)(s,2),i=a[0],o=a[1],c=(0,v.useState)(""),l=(0,m.Z)(c,2),u=l[0],d=l[1],f=(0,v.useState)(""),p=(0,m.Z)(f,2),h=p[0],g=p[1],j=(0,v.useState)(!1),b=(0,m.Z)(j,2),x=b[0],y=b[1],N=(0,v.useState)(""),S=(0,m.Z)(N,2),O=S[0],C=S[1],w=(0,v.useState)({}),D=(0,m.Z)(w,2),E=D[0],I=D[1],Z=(0,v.useContext)(J);(0,v.useEffect)((function(){t||(o(""),d(""),g(""),y(!1),I({}))}),[t]),(0,v.useEffect)((function(){!function(){if(""===i)I(ke(ke({},E),{},{firstNameError:!0}));else{var e=ke({},E);delete e.firstNameError,I(e)}}()}),[i,u,h,x,O,t]);var P=function(e){var t=e.target.name,r=e.target.value;switch(t){case"first-name":o(r);break;case"last-name":d(r);break;case"job-position":g(r);break;case"avatar-image":if(e.target.files&&e.target.files[0]){var n=e.target.files[0],s=new FileReader;s.readAsDataURL(n),s.onload=function(){C(s.result)}}}},k=(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"text-inputs-connect-modal",children:[(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{label:"Your first name",name:"first-name",autoComplete:"off",fullWidth:!0,value:i,onChange:P,error:!0===E.firstNameError,required:!0})}),(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{label:"Your last name",name:"last-name",autoComplete:"off",fullWidth:!0,value:u,onChange:P})}),(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{label:"Your job position",name:"job-position",autoComplete:"off",fullWidth:!0,value:h,onChange:P})})]}),(0,z.jsxs)("div",{className:"avatar-modal",children:[(0,z.jsx)("div",{className:"avatar-image",children:(0,z.jsx)(re,{firstName:i||"NA",lastName:u,avatarImage:O})}),(0,z.jsx)("div",{className:"avatar-input",children:(0,z.jsxs)("label",{htmlFor:"avatar-upload",children:[(0,z.jsx)("input",{id:"avatar-upload",className:"invisible",accept:"image/*",name:"avatar-image",type:"file",onInput:P}),(0,z.jsx)(Ne.Z,{id:"avatar-upload",variant:"contained",component:"span",children:"Upload avatar"})]})})]}),(0,z.jsxs)("div",{className:"switch-modal",children:[(0,z.jsx)("div",{className:"switch-modal-switch",children:(0,z.jsx)(Ce.Z,{id:"connect-as-obs-switch",checked:x,color:"primary",onChange:function(){return y(!x)}})}),(0,z.jsx)("div",{className:"switch-modal-label",children:"Connect as Observer"})]})]});return(0,z.jsx)(Ze,{isOpen:t,onClose:r,onConfirm:function(){var e=me(),t=De(n);Z.requestUserJoin({id:e,firstName:i,room:t,lastName:u,jobPosition:h,avatar:O,role:x?W.M_:W.Dl}),r()},title:"Connect to lobby",disableConfirm:!!Object.keys(E).length,children:k})};function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ae=function(e){var t=e.isOpen,r=e.onClose,n=(0,v.useState)(""),s=(0,m.Z)(n,2),a=s[0],i=s[1],o=(0,v.useState)(""),c=(0,m.Z)(o,2),l=c[0],u=c[1],d=(0,v.useState)(""),f=(0,m.Z)(d,2),p=f[0],h=f[1],g=(0,v.useState)(""),j=(0,m.Z)(g,2),b=j[0],x=j[1],y=(0,v.useState)({}),N=(0,m.Z)(y,2),S=N[0],O=N[1],C=(0,v.useContext)(J);(0,v.useEffect)((function(){t||(i(""),u(""),h(""),O({}))}),[t]),(0,v.useEffect)((function(){!function(){if(""===a)O(Fe(Fe({},S),{},{firstNameError:!0}));else{var e=Fe({},S);delete e.firstNameError,O(e)}}()}),[a,l,p,b,t]);var w=function(e){var t=e.target.name,r=e.target.value;switch(t){case"first-name":i(r);break;case"last-name":u(r);break;case"job-position":h(r);break;case"avatar-image":if(e.target.files&&e.target.files[0]){var n=e.target.files[0],s=new FileReader;s.readAsDataURL(n),s.onload=function(){x(s.result)}}}},D=(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{className:"text-inputs-connect-modal",children:[(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{label:"Your first name",name:"first-name",autoComplete:"off",fullWidth:!0,value:a,onChange:w,error:!0===S.firstNameError,required:!0})}),(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{label:"Your last name",name:"last-name",autoComplete:"off",fullWidth:!0,value:l,onChange:w})}),(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{label:"Your job position",name:"job-position",autoComplete:"off",fullWidth:!0,value:p,onChange:w})})]}),(0,z.jsxs)("div",{className:"avatar-modal",children:[(0,z.jsx)("div",{className:"avatar-image",children:(0,z.jsx)(re,{firstName:a||"NA",lastName:l,avatarImage:b})}),(0,z.jsx)("div",{className:"avatar-input",children:(0,z.jsxs)("label",{htmlFor:"avatar-upload",children:[(0,z.jsx)("input",{id:"avatar-upload",accept:"image/*",name:"avatar-image",type:"file",className:"invisible",onInput:w}),(0,z.jsx)(Ne.Z,{variant:"contained",component:"span",children:"Upload avatar"})]})})]})]});return(0,z.jsx)(Ze,{isOpen:t,onClose:r,onConfirm:function(){C.requestStartGame({id:me(),firstName:a,room:null,lastName:l,jobPosition:p,avatar:b,role:"dealer"}),r()},title:"Start new game",disableConfirm:!!Object.keys(S).length,children:D})};var qe=r(3637);const Ue=function(){var e=(0,v.useState)(!1),t=(0,m.Z)(e,2),r=t[0],n=t[1],s=(0,v.useState)(!1),a=(0,m.Z)(s,2),i=a[0],o=a[1],c=(0,v.useState)(!1),l=(0,m.Z)(c,2),d=l[0],p=l[1],h=(0,v.useState)(""),g=(0,m.Z)(h,2),j=g[0],b=g[1],x=(0,v.useContext)(J),y=(0,f.UO)().id,N=(0,u.v9)((function(e){return e.socket.socketError}));return(0,z.jsxs)("div",{className:"container",children:[(0,z.jsxs)("div",{className:"welcome-page",children:[(0,z.jsxs)("div",{className:"welcome-logo-container",children:[(0,z.jsx)("div",{className:"welcome-logo",children:(0,z.jsx)("img",{src:qe,alt:""})}),(0,z.jsx)("div",{className:"welcome-title",children:"Planning poker"})]}),(0,z.jsxs)("div",{className:"welcome-content",children:[(0,z.jsx)("h2",{className:"welcome-header",children:"Start your planning:"}),(0,z.jsxs)("div",{className:"start-game-container error-down",children:[(0,z.jsx)("div",{className:"action-title",children:"Create session:"}),(0,z.jsx)(Ne.Z,{variant:"contained",size:"medium",color:"primary",onClick:function(){o(!0)},children:"Start new game"}),(0,z.jsx)("div",{className:"error-container",children:N?W.tw:""})]}),(0,z.jsx)("h2",{className:"welcome-header",children:"OR"}),(0,z.jsxs)("div",{className:"connect-container error-down",children:[(0,z.jsxs)("div",{className:"action-title",children:["Connect to lobby by ",(0,z.jsx)("span",{children:"ID or URL"}),":"]}),(0,z.jsx)(Se,{buttonText:"Connect",initialValue:y,inputLabel:"ID or URL",valueHandler:function(e){!function(e){b(e),x.checkIsRoomExists(De(e),n,p)}(e)}}),(0,z.jsxs)("div",{className:"error-container",children:[N&&!d&&W.tw,d&&W.vv]})]})]})]}),(0,z.jsx)(Te,{isOpen:r,onClose:function(){n(!1)},roomID:j}),(0,z.jsx)(Ae,{isOpen:i,onClose:function(){o(!1)}})]})};var Ve=(0,Q.Z)({header:{padding:"0"}}),Ge=function(e){var t=e.firstName,r=e.lastName,n=e.role,s=e.avatarImage,a=e.isScramMasterLobby,i=we(r?"".concat(t," ").concat(r):t,W.lv.xc),o=Ve();return(0,z.jsxs)(ne.Z,{className:"scram-master-card",children:[(0,z.jsx)(re,{firstName:t,lastName:r,avatarImage:s}),(0,z.jsxs)("div",{className:"scram-master-card-description",children:[(0,z.jsx)(ae.Z,{variant:"body2",className:"scram-master-subheader",children:a?"IT'S YOU":""}),(0,z.jsx)(se.Z,{className:o.header,title:i,content:n,subheader:we(n,W.lv.dk),subheaderTypographyProps:{variant:"subtitle1"}})]})]})},Le=function(e){var t=e.startBtnText,r=void 0===t?"Start Game":t,n=e.cancelBtnText,s=void 0===n?"Cancel Game":n,a=e.onStart,i=e.onCancel,o=e.disableStartGame;return(0,z.jsxs)("div",{className:"lobby-buttons",children:[(0,z.jsx)(Ne.Z,{variant:"contained",size:"medium",onClick:i,children:s}),(0,z.jsx)(Ne.Z,{variant:"contained",size:"medium",color:"primary",onClick:a,disabled:o,children:r})]})},_e=(0,r(4670).Z)({root:{marginRight:8,"& .MuiInputBase-root.Mui-disabled":{color:"black"},"& .MuiInputBase-input":{fontSize:"1.5em",textAlign:"center"}}})(ue.Z);const Me=function(){var e=(0,u.v9)((function(e){return e.client.isDealerLobby})),t=(0,u.v9)((function(e){return e.game.title})),r=(0,v.useContext)(J),n=(0,v.useState)(!1),s=(0,m.Z)(n,2),a=s[0],i=s[1],o=(0,u.I0)();return(0,z.jsxs)("div",{className:"title-planning",children:[(0,z.jsx)(_e,{id:"title-planning",label:(t?"Planning title":e&&"Please add planning title:")||"Planning title will appear here",disabled:!a,fullWidth:!0,size:"small",value:t||"",onChange:function(e){o(L(e.target.value))},onBlur:function(){i(!1),r.requestTitleChange(t)}}),e&&(0,z.jsx)(de.Z,{className:"title-planning-edit-btn",onClick:function(){i(!a)}})]})},Be=function(e){var t=e.isDealerLobby,r=e.lobbyGameSettings,n=(0,u.v9)((function(e){return e.game.dealer})),s=n.firstName,a=n.lastName,i=n.jobPosition,c=n.avatar,l=(0,v.useContext)(J),d=(0,u.v9)((function(e){return e.game.room}));return(0,z.jsxs)("section",{className:"lobby-content-master",children:[(0,z.jsx)(Me,{}),(0,z.jsx)("h5",{className:"section-subheader",children:"Dealer:"}),(0,z.jsx)("div",{className:"master-lobby",children:(0,z.jsx)(Ge,{firstName:s,lastName:a,role:i||"",avatarImage:c,isScramMasterLobby:t})}),t&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("h4",{className:"section-subheader",children:"Link to lobby:"}),(0,z.jsx)(Se,{buttonText:"Copy",valueHandler:function(e){navigator.clipboard.writeText(e)},initialValue:"undefined"!=typeof window?"".concat(window.location.protocol,"//").concat(window.location.host,"/link/").concat(d):d}),(0,z.jsx)(Le,{startBtnText:"Start Game",cancelBtnText:"Cancel Game",onStart:function(){if(r){var e=r.timerIsNeed?60*r.timer.getMinutes()+r.timer.getSeconds():null,t={room:d,isDealerPlayer:r.dealerAsPlr,cardSet:function(){switch(r.cardSet){case o.customCardSet:return r.customDeck;case o.fibonacci:return W.Ty.a;case o.powersOfTwo:return W.Ty.X;default:return W.Ty.a}}(),unitsOfEstimation:r.inputSettingsForDeck,isFreeConnectionToGameForNewUsers:r.participationInGameForNewUsers,isRevoteAfterRoundEnd:r.revoteBeforeEndOfRound,isSetIssuesFromFile:r.scoreForIssues,timer:e,IsAutoreverseCards:r.autoreverse,isChangeChoiceAfterFlip:r.changeChoice,coverCardforServer:r.coverCardforServer};l.requestPokerGameStart(t)}},onCancel:function(){l.requestCancelGame()},disableStartGame:!1})]}),!t&&(0,z.jsx)("div",{className:"lobby-buttons-client",children:(0,z.jsx)(Ne.Z,{variant:"contained",size:"medium",onClick:function(){l.clientExit()},children:"Exit"})})]})};var He=r(3700),We=r(4688),ze=r(6479),Je=[{title:"High Priority",value:n.HIGH},{title:"Normal Priority",value:n.NORMAL},{title:"Low Priority",value:n.LOW}];function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Xe=function(e){var t=e.isOpen,r=e.onClose,n=e.issueID,s=e.description,a=e.name,i=e.priority,o=(0,v.useState)(a),c=(0,m.Z)(o,2),l=c[0],d=c[1],f=(0,v.useState)(s),p=(0,m.Z)(f,2),h=p[0],g=p[1],j=(0,v.useState)(i),b=(0,m.Z)(j,2),x=b[0],y=b[1],N=(0,v.useState)({}),S=(0,m.Z)(N,2),O=S[0],C=S[1],w=(0,u.v9)((function(e){return e.game.room})),D=(0,v.useContext)(J);(0,v.useEffect)((function(){!function(){if(l){var e=Ye({},O);delete e.issueNameError,C(e)}else C(Ye(Ye({},O),{},{issueNameError:!0}))}()}),[l,t]);var E=(0,z.jsxs)("div",{className:"issue-modal",children:[(0,z.jsxs)("div",{className:"text-input-issue-modal",children:[(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{label:"Title",name:"titleIssue",autoComplete:"off",fullWidth:!0,value:l,onChange:function(e){d(e.target.value)},error:O.titleIssueError,required:!0})}),(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{variant:"outlined",label:"Description",autoComplete:"off",multiline:!0,rows:5,fullWidth:!0,value:h,onChange:function(e){g(e.target.value)}})})]}),(0,z.jsx)("div",{className:"select-issue-modal",children:(0,z.jsxs)("div",{className:"select-modal",children:[(0,z.jsx)(He.Z,{className:"select-label",htmlFor:"priority-issue",children:"Set priority"}),(0,z.jsx)(We.Z,{id:"priority-issue",value:x,onChange:function(e){y(e.target.value)},children:Je.map((function(e){var t=e.title,r=e.value;return(0,z.jsx)(ze.Z,{value:r,children:t},me())}))})]})})]});return(0,z.jsx)(Ze,{isOpen:t,onClose:r,onConfirm:function(){var e={id:n,name:l,room:w,isActive:!1,priority:x};D.requestUpdateIssue(e),r()},title:"Edit Issue",disableConfirm:!!Object.keys(O).length,children:E})};var $e=function(e){var t=e.id,r=e.name,n=e.description,s=e.priority,a=e.isActive,i=e.isGame,o=e.isDealer,c=e.isPlayed,l=(0,v.useState)(!1),d=(0,m.Z)(l,2),f=d[0],p=d[1],h=(0,u.v9)((function(e){return e.game.room})),g=(0,u.v9)((function(e){return e.game.isRoundRunning})),j=(0,v.useContext)(J),b=function(){var e={id:t,room:h};j.requestDeleteIssue(e)},x=(a&&c&&i&&g?"issue-card selected played untouchable":a&&c&&i&&"issue-card selected played")||a&&i&&g&&"issue-card selected untouchable"||a&&i&&"issue-card selected"||c&&i&&g&&"issue-card played untouchable"||c&&i&&"issue-card played"||g&&"issue-card untouchable"||"issue-card";o||g||(x+=" untouchable-card");var y=i?W.lv.K3:W.lv.M2;return(0,z.jsx)("div",{className:i?"clickable":"",title:r,children:(0,z.jsxs)(ne.Z,{className:x,onClick:function(e){e.target&&"button"===e.target.type||!i||j.requestSelectIssue(t)},children:[(0,z.jsx)(se.Z,{className:"issue-card-header",title:we(r,y),subheader:we(s),subheaderTypographyProps:{variant:"subtitle1"}}),i&&o?(0,z.jsx)(de.Z,{className:"issue-card-close-btn",onClick:b,disabled:a&&g}):o&&[(0,z.jsx)(de.Z,{className:"issue-card-edit-btn",onClick:function(){p(!0)}}),(0,z.jsx)(de.Z,{className:"issue-card-delete-btn",onClick:b})],(0,z.jsx)(Xe,{isOpen:f,onClose:function(){p(!1)},issueID:t,name:r,description:n,priority:s})]})})},Qe=[{title:"High Priority",priority:n.HIGH},{title:"Normal Priority",priority:n.NORMAL},{title:"Low Priority",priority:n.LOW}];function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const rt=function(e){var t=e.isOpen,r=e.onClose,s=(0,v.useState)(""),a=(0,m.Z)(s,2),i=a[0],o=a[1],c=(0,v.useState)(""),l=(0,m.Z)(c,2),d=l[0],f=l[1],p=(0,v.useState)(n.HIGH),h=(0,m.Z)(p,2),g=h[0],j=h[1],b=(0,v.useState)({}),x=(0,m.Z)(b,2),y=x[0],N=x[1],S=(0,u.v9)((function(e){return e.game.room})),O=(0,v.useContext)(J);(0,v.useEffect)((function(){t||(o(""),f(""),j(n.NORMAL),N({}))}),[t]),(0,v.useEffect)((function(){!function(){if(""===i)N(tt(tt({},y),{},{isTitleIssueError:!0}));else{var e=tt({},y);delete e.isTitleIssueError,N(e)}}()}),[i,t]);var C=(0,z.jsxs)("div",{className:"issue-modal",children:[(0,z.jsxs)("div",{className:"text-input-issue-modal",children:[(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{label:"Title",name:"title-issue",autoComplete:"off",fullWidth:!0,value:i,onChange:function(e){o(e.target.value)},error:y.isTitleIssueError,required:!0})}),(0,z.jsx)("div",{className:"input-modal",children:(0,z.jsx)(ue.Z,{variant:"outlined",label:"Description",autoComplete:"off",multiline:!0,rows:5,fullWidth:!0,value:d,onChange:function(e){f(e.target.value)}})})]}),(0,z.jsx)("div",{className:"select-issue-modal",children:(0,z.jsxs)("div",{className:"select-modal",children:[(0,z.jsx)(He.Z,{className:"select-label",htmlFor:"priority-issue",children:"Set priority"}),(0,z.jsx)(We.Z,{id:"priority-issue",value:g,onChange:function(e){j(e.target.value)},children:Qe.map((function(e){var t=e.title,r=e.priority;return(0,z.jsx)(ze.Z,{value:r,children:t},t)}))})]})})]});return(0,z.jsx)(Ze,{isOpen:t,onClose:r,onConfirm:function(){var e={id:me(),name:i,room:S,isActive:!1,description:d,priority:g};O.requestAddIssue(e),r()},title:"Create Issue",disableConfirm:!!Object.keys(y).length,children:C})};var nt=function(){var e=(0,v.useState)(!1),t=(0,m.Z)(e,2),r=t[0],n=t[1];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(ne.Z,{className:"issue-card",children:[(0,z.jsx)(se.Z,{className:"issue-card-header",title:"Create new Issue"}),(0,z.jsx)(de.Z,{className:"issue-card-add-btn",onClick:function(){n(!0)}})]}),(0,z.jsx)(rt,{isOpen:r,onClose:function(){n(!1)}})]})};const st=function(e){var t=e.sectionTitle,r=(0,u.v9)((function(e){return e.game.issues})),n=(0,u.v9)((function(e){return e.game.gameStatus===W.W$})),s=(0,u.v9)((function(e){return e.client.clientUser.role===W.V6})),a=(0,u.v9)((function(e){return e.game.room})),i=r.map((function(e){var t=e.id,r=e.name,i=e.description,o=e.priority,c=e.isActive,l=e.score;return(0,z.jsx)($e,{name:r,priority:o,description:i,isActive:c,isDealer:s,isGame:n,id:t,room:a,isPlayed:!!l},t)}));return(0,z.jsxs)("section",{className:"lobby-content-issues",children:[(0,z.jsx)("h3",{className:"section-header",children:(r.length||s)&&t}),(0,z.jsxs)("div",{className:"issues-lobby",children:[i,s&&(0,z.jsx)(nt,{})]})]})};var at=r(8623),it=r(6083),ot=r(9525),ct=r(6856);function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dt={widthCard:"280px",heightCard:"76px",widthHeader:"200px",nameTruncate:W.lv.Fv,roleTruncate:W.lv.dk,titleTypography:"h5",subtitleTypography:"subtitle1",widthAvatar:"50px",heightAvatar:"50px"},mt=(0,Q.Z)({dialogTitle:{textAlign:"center"},dialogActions:{display:"flex",justifyContent:"space-between"},card:{width:function(e){return e.widthCard},height:function(e){return e.heightCard},padding:"0 5px 0 5px",display:"flex",columnGap:"10px",alignItems:"center",justifyContent:"space-between",opacity:function(e){return e.gameRole===W.M_?"0.8":"1"}},header:{width:function(e){return e.widthHeader},overflow:"hidden",whiteSpace:"nowrap",padding:"5px"}}),vt=function(e){var t=e.firstName,r=e.lastName,n=e.role,s=e.avatarImage,a=e.id,i=e.isRemoveButtonDisabled,o=e.stylesProps,c=void 0===o?dt:o,l=e.gameRole,u=void 0===l?"member":l,d=v.useState(!1),f=(0,m.Z)(d,2),p=f[0],h=f[1],g=ut(ut({},c),{},{gameRole:u}),j=mt(g),b=(0,v.useContext)(J),x=function(){h(!p)},y=we(r?"".concat(t," ").concat(r):t,c.nameTruncate);return(0,z.jsxs)(ne.Z,{className:j.card,children:[(0,z.jsx)(re,{firstName:t,lastName:r,avatarImage:s,stylesProps:{width:c.widthAvatar,height:c.heightAvatar}}),(0,z.jsx)(se.Z,{className:j.header,title:y,titleTypographyProps:{variant:c.titleTypography},subheader:we(n,c.roleTruncate),subheaderTypographyProps:{variant:c.subtitleTypography}}),(0,z.jsx)(de.Z,{className:"member-card-delete-btn",onClick:x,disabled:i}),(0,z.jsxs)(at.Z,{className:"modal-dialog",open:p,onClose:x,children:[(0,z.jsx)(it.Z,{className:j.dialogTitle,children:"Kick player?"}),(0,z.jsxs)(ot.Z,{children:["Are you really want to remove ",y," from game session?"]}),(0,z.jsxs)(ct.Z,{className:j.dialogActions,children:[(0,z.jsx)(Ne.Z,{variant:"contained",onClick:x,children:"No"}),(0,z.jsx)(Ne.Z,{color:"primary",variant:"contained",onClick:function(){h(!p),b.requestUserDelete(a)},children:"Yes"})]})]})]})};const ft=function(e){var t=e.isDealerLobby,r=(0,u.v9)((function(e){return e.game.users}));return(0,z.jsxs)("section",{className:"lobby-content-members",children:[(0,z.jsx)("h3",{className:"section-header",children:"Members:"}),(0,z.jsx)("div",{className:"members-lobby",children:r.map((function(e){var n=e.id,s=e.firstName,a=e.lastName,i=e.jobPosition,o=e.avatar,c=e.role;return(0,z.jsx)("div",{children:(0,z.jsx)(vt,{firstName:s,lastName:a,role:i||"",avatarImage:o,id:n,gameRole:c,isRemoveButtonDisabled:!t&&r.length<W.H7})},n)}))})]})};var pt=r(7329),ht=r(7827),gt=r(9066),jt=r(4348);const bt=function(e){var t=e.changeValueTimer,r=(0,v.useState)(new Date(1970,1,1,0,2,0)),n=(0,m.Z)(r,2),s=n[0],a=n[1];return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(ht.M,{utils:jt.Z,children:(0,z.jsx)(gt.j,{ampm:!1,openTo:"minutes",views:["minutes","seconds"],format:"mm:ss",label:"Set min, sec",value:s,onChange:function(e){a(e),t(e)}})})})};var xt=function(e){var t=e.switchSettings,r=e.handleSwitch;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"switch-lobby",children:[(0,z.jsx)("h4",{className:"switch-lobby-label",children:"Dealer as player:"}),(0,z.jsx)("div",{className:"switch-lobby-switch",children:(0,z.jsx)(Ce.Z,{id:"dealer-as-plr-switch",name:"dealerAsPlr",checked:t.dealerAsPlr,color:"primary",onChange:r})})]}),(0,z.jsxs)("div",{className:"switch-lobby",children:[(0,z.jsx)("h4",{className:"switch-lobby-label",children:"New user in game should be admitted by dealer:"}),(0,z.jsx)("div",{className:"switch-lobby-switch",children:(0,z.jsx)(Ce.Z,{id:"participationInGameForNewUsers",name:"participationInGameForNewUsers",checked:t.participationInGameForNewUsers,color:"primary",onChange:r})})]}),(0,z.jsxs)("div",{className:"switch-lobby",children:[(0,z.jsx)("h4",{className:"switch-lobby-label",children:"Is timer needed:"}),(0,z.jsx)("div",{className:"switch-lobby-switch",children:(0,z.jsx)(Ce.Z,{id:"is-timer-needed",name:"timerIsNeed",checked:t.timerIsNeed,color:"primary",onChange:r})})]}),(0,z.jsxs)("div",{className:"switch-lobby",children:[(0,z.jsx)("h4",{className:"switch-lobby-label",children:"Allow revoting when cards are flipped:"}),(0,z.jsx)("div",{className:"switch-lobby-switch",children:(0,z.jsx)(Ce.Z,{id:"revote",name:"revoteBeforeEndOfRound",checked:t.revoteBeforeEndOfRound,color:"primary",onChange:r})})]}),(0,z.jsxs)("div",{className:"switch-lobby",children:[(0,z.jsx)("h4",{className:"switch-lobby-label",children:"Cards auto-flip when everybody voted:"}),(0,z.jsx)("div",{className:"switch-lobby-switch",children:(0,z.jsx)(Ce.Z,{id:"autoreverse",name:"autoreverse",checked:t.autoreverse,color:"primary",onChange:r})})]})]})},yt=[{coverCardID:"1",image:r(6443),isSelected:!1},{coverCardID:"2",image:r(1654),isSelected:!1},{coverCardID:"3",image:r(3991),isSelected:!1},{coverCardID:"4",image:r(2485),isSelected:!1},{coverCardID:"5",image:r(9655),isSelected:!1},{coverCardID:"6",image:r(2525),isSelected:!1}],Nt=[{valueCardID:"asdsdf23423af",name:"SP",value:"pass"},{valueCardID:"asdgsdgsdfsdfdsg",name:"SP",value:"coffee"},{valueCardID:"sdgsdfsdfsdf",name:"SP",value:"1"},{valueCardID:"123123sdfsdf",name:"SP",value:"10"},{valueCardID:"sdfsdf1134234",name:"SP",value:"50"}];function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ct=[{title:"Fibonacci ( 0, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ?, Pass )",value:o.fibonacci},{title:"Powers of 2 ( 0, 1, 2, 4, 8, 16, 32, 64, ?, Pass )",value:o.powersOfTwo},{title:"Set your custom deck",value:o.customCardSet}],wt=r(951),Dt=(0,Q.Z)({card:{backgroundColor:function(e){return e.isSelected?"$green-select":"none"}}}),Et=function(e){var t=e.coverCardID,r=e.image,n=e.isSelected,s=e.handleClick,a=Dt({isSelected:n}),i="cover-card ".concat(a.card);return(0,z.jsx)(ne.Z,{className:i,onClick:function(){return s(t)},children:(0,z.jsxs)("div",{className:"cover-card-image",children:[(0,z.jsx)(wt.Z,{component:"img",alt:"cover card",height:"160",image:r}),n&&(0,z.jsx)("div",{className:"cover-card-select-bg-color",children:(0,z.jsx)("div",{className:"cover-card-select-icon"})})]})},t)},It=function(e){return(0,z.jsxs)(ne.Z,{className:"cover-card",children:[(0,z.jsx)("label",{htmlFor:"icon-button-file",children:(0,z.jsx)("input",{className:"invisible",accept:"image/*",id:"icon-button-file",type:"file",onChange:function(t){return e.onCreateCoverHandler(t)}})}),(0,z.jsx)(de.Z,{className:"cover-card-add-btn","aria-label":"upload picture",component:"span"})]})},Zt=r(1907),Pt=function(e){var t=e.valueCardID,r=e.name,n=e.value,a=e.handleDataFromValueCard,i=(0,v.useState)(!1),o=(0,m.Z)(i,2),c=o[0],l=o[1],u=(0,v.useState)(n),d=(0,m.Z)(u,2),f=d[0],p=d[1],h=n!==s.PASS&&n!==s.COFFEE,g=h&&r.match(/^.{1,3}/);return(0,z.jsxs)(ne.Z,{className:"value-card",children:[(0,z.jsx)("div",{className:"value-card-name",children:g}),(0,z.jsx)("div",{className:"value-card-value",children:(0,z.jsx)(_e,{id:"card-value",disabled:!c,autoComplete:"off",size:"small",value:f,onChange:function(e){a(e.target.value,String(t)),p(e.target.value)},onBlur:function(){l(!1)}})}),(0,z.jsx)("div",{className:"value-card-edit-delete",children:(0,z.jsx)(Zt.Z,{children:h&&(0,z.jsx)(de.Z,{className:"value-card-edit-btn",onClick:function(){l(!c)}})})})]},t)},kt=function(e){return(0,z.jsx)(ne.Z,{className:"value-card",children:(0,z.jsx)(de.Z,{className:"value-card-add-btn",onClick:function(){return e.onCreateValueHandler()}})})},Tt=function(e){var t=e.coverCard,r=e.activeCoverCardID,n=e.handleIsActiveCoverCard,s=e.onCreateCoverHandler,a=e.isCustomCardSet,i=e.valueCard,o=e.inputSettingsForDeck,c=e.handleValuesFromNewDeck,l=e.onCreateValueHandler;return(0,z.jsxs)("section",{className:"lobby-content-game-cards",children:[(0,z.jsx)("h3",{className:"section-header",children:"Game cards:"}),(0,z.jsxs)("div",{className:"game-cards-lobby-container",children:[(0,z.jsxs)("div",{className:"game-cards-select-cover",children:[(0,z.jsx)("h4",{className:"game-cards-lobby-label",children:"Select cover:"}),(0,z.jsxs)("div",{className:"cover-card-container",children:[t.map((function(e){var t=e.coverCardID,s=e.image;return(0,z.jsx)("div",{children:(0,z.jsx)(Et,{coverCardID:t,image:s,isSelected:r===t,handleClick:n})},t)})),(0,z.jsx)(It,{onCreateCoverHandler:s})]})]}),a&&(0,z.jsxs)("div",{className:"game-cards-add-value",children:[(0,z.jsx)("h4",{className:"game-cards-lobby-label",children:"Add card values:"}),(0,z.jsxs)("div",{className:"cover-card-container",children:[i.map((function(e){var t=e.value,r=e.valueCardID;return(0,z.jsx)("div",{children:(0,z.jsx)(Pt,{valueCardID:r,name:o.scoreTypeShort,value:t,handleDataFromValueCard:c})},r)})),(0,z.jsx)(kt,{onCreateValueHandler:l})]})]})]})]})};function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At=(0,Q.Z)((function(e){return{select:{marginTop:e.spacing(2),marginBottom:e.spacing(2),minWidth:400}}}));const qt=function(e){var t=e.changePokerGameSettings,r=At(),n=function(e){var t=(0,v.useState)({dealerAsPlr:W.he.PD,changeChoice:!1,timerIsNeed:W.he.MD,revoteBeforeEndOfRound:!1,scoreForIssues:!1,participationInGameForNewUsers:!1,autoreverse:!1}),r=(0,m.Z)(t,2),n=r[0],s=r[1],a=(0,v.useState)(o.fibonacci),i=(0,m.Z)(a,2),c=i[0],l=i[1],u=c===o.customCardSet,d=(0,v.useState)({scoreType:"Story Point",scoreTypeShort:"SP"}),f=(0,m.Z)(d,2),p=f[0],h=f[1],g=(0,v.useState)(yt),j=(0,m.Z)(g,2),b=j[0],x=j[1],y=(0,v.useState)(Nt),N=(0,m.Z)(y,2),S=N[0],O=N[1],C=(0,v.useState)(new Date(1970,1,1,0,W.he.Uw,W.he.QG)),w=(0,m.Z)(C,2),D=w[0],E=w[1],I=(0,v.useState)("1"),Z=(0,m.Z)(I,2),P=Z[0],k=Z[1],T=(0,v.useState)(S.map((function(e){return e.value}))),R=(0,m.Z)(T,2),F=R[0],A=R[1],q=(0,v.useState)({}),U=(0,m.Z)(q,2),V=U[0],G=U[1];return(0,v.useEffect)((function(){!function(){if(p.scoreType)if(p.scoreTypeShort){var e=Ot({},V);delete e.scoreTypeError,delete e.scoreTypeShortError,G(e)}else G(Ot(Ot({},V),{},{scoreTypeShortError:!0}));else G(Ot(Ot({},V),{},{scoreTypeError:!0}))}()}),[p.scoreType,p.scoreTypeShort]),(0,v.useEffect)((function(){var t=n.timerIsNeed?D:null,r=u?S.map((function(e){return e.value})):null,s=b.find((function(e){return e.coverCardID===P}));e(Ot(Ot({},n),{},{cardSet:c,timer:t,coverCardforServer:s,inputSettingsForDeck:p,customDeck:r}))}),[n,c,P,D,b,p,F]),{switchSettings:n,setSwitchSettings:s,cardSet:c,setCardSet:l,isCustomCardSet:u,inputSettingsForDeck:p,setInputSettingsForDeck:h,coverCard:b,setCoverCard:x,valueCard:S,setValueCard:O,setValueTimer:E,activeCoverCardID:P,setIsActiveCoverCard:k,valuesOfNewDeck:F,setValuesOfNewDeck:A,errors:V}}(t),s=n.switchSettings,a=n.setSwitchSettings,i=n.cardSet,c=n.setCardSet,l=n.isCustomCardSet,u=n.inputSettingsForDeck,d=n.setInputSettingsForDeck,f=n.coverCard,p=n.setCoverCard,h=n.valueCard,g=n.setValueCard,j=n.setValueTimer,b=n.activeCoverCardID,x=n.setIsActiveCoverCard,y=n.setValuesOfNewDeck,N=n.errors,S=n.valuesOfNewDeck,O=function(e){d(Ft(Ft({},u),{},(0,Oe.Z)({},e.target.name,e.target.value)))};return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("section",{className:"lobby-content-game-settings",children:[(0,z.jsx)("h3",{className:"section-header",children:"Game settings:"}),(0,z.jsxs)("div",{className:"lobby-settings-body",children:[(0,z.jsxs)("div",{className:"loby-settings-block",children:[(0,z.jsx)(xt,{switchSettings:s,handleSwitch:function(e){a(Ft(Ft({},s),{},(0,Oe.Z)({},e.target.name,e.target.checked)))}}),s.timerIsNeed&&(0,z.jsx)("div",{className:"timer-lobby",children:(0,z.jsx)(bt,{changeValueTimer:function(e){j(e)}})})]}),(0,z.jsx)("div",{className:"lobby-settings-block",children:(0,z.jsxs)("div",{className:"select-lobby",children:[(0,z.jsx)("h4",{className:"select-lobby-label",children:"Choose your card set:"}),(0,z.jsxs)("div",{className:"select-lobby-switch",children:[(0,z.jsx)(We.Z,{value:i,onChange:function(e){c(e.target.value)},displayEmpty:!0,className:r.select,children:Ct.map((function(e){var t=e.title,r=e.value;return(0,z.jsx)(ze.Z,{value:r,children:t},t)}))}),(0,z.jsxs)("div",{className:"input-lobby-wrapper",children:[(0,z.jsxs)("div",{className:"input-lobby-container error-down",children:[(0,z.jsx)("div",{className:"input-lobby",children:(0,z.jsx)(ue.Z,{label:"Score type:",name:"scoreType",autoComplete:"off",placeholder:"Story Point",variant:"outlined",size:"small",fullWidth:!0,value:u.scoreType,onChange:O,error:N.scoreTypeError})}),N.scoreTypeError&&(0,z.jsx)("div",{className:"error",children:'* Field "Score type" must be filled in'})]}),(0,z.jsxs)("div",{className:"input-lobby-container error-down",children:[(0,z.jsx)("div",{className:"input-lobby",children:(0,z.jsx)(ue.Z,{label:"Score type (Short):",name:"scoreTypeShort",autoComplete:"off",placeholder:"SP",variant:"outlined",size:"small",fullWidth:!0,value:u.scoreTypeShort,onChange:O,error:N.scoreTypeShortError})}),N.scoreTypeShortError&&(0,z.jsx)("div",{className:"error",children:'* Field "Score type (Short)" must be filled in'})]})]})]})]})})]})]}),(0,z.jsx)(Tt,{coverCard:f,activeCoverCardID:b,handleIsActiveCoverCard:function(e){x(e)},onCreateCoverHandler:function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(){var e={coverCardID:me(),image:r.result,isSelected:!1};p((function(t){return[].concat((0,pt.Z)(t),[e])}))}}},isCustomCardSet:l,valueCard:h,inputSettingsForDeck:u,handleValuesFromNewDeck:function(e,t){var r=h.findIndex((function(e){return e.valueCardID===t}));h[r].value=e,y((0,pt.Z)(h.map((function(e){return e.value}))))},onCreateValueHandler:function(){var e={valueCardID:me(),name:"",value:""};g([].concat((0,pt.Z)(h),[e])),y([].concat((0,pt.Z)(S),[e.value]))}})]})};var Ut=function(e){var t=e.timerSecs;return null===t?null:(0,z.jsxs)("div",{className:"timer-body",children:[(0,z.jsxs)("div",{className:"timer-section",children:[(0,z.jsx)("div",{className:"timer-section-label",children:"Mins:"}),Math.floor(t/60)]}),(0,z.jsx)("div",{className:"timer-divider",children:":"}),(0,z.jsxs)("div",{className:"timer-section",children:[(0,z.jsx)("div",{className:"timer-section-label",children:"Secs:"}),t%60<10?"0".concat(t%60):"".concat(t%60)]})]})},Vt=function(e){var t=e.timerSecs,r=e.client,n=(0,u.v9)((function(e){return e.game.title})),s=(0,u.v9)((function(e){return e.game.dealer})),a=s.firstName,i=s.lastName,o=s.jobPosition,c=s.avatar,l=r.role===W.V6,d=(0,v.useContext)(J);return(0,z.jsxs)("div",{className:"game-top-section",children:[(0,z.jsx)("div",{className:"game-top-section-title",children:n}),(0,z.jsxs)("div",{className:"game-top-section-row",children:[(0,z.jsx)("div",{className:"game-top-section-dealer game-top-col",children:(0,z.jsx)(Ge,{firstName:a,lastName:i,role:o||"",avatarImage:c,isScramMasterLobby:l})}),(0,z.jsx)("div",{className:"game-top-section-timer game-top-col",children:(0,z.jsx)(Ut,{timerSecs:t})}),(0,z.jsx)("div",{className:"game-top-section-btn game-top-col",children:(0,z.jsx)(Ne.Z,{variant:"contained",size:"medium",color:"primary",onClick:function(){l?d.requestCancelGame():d.requestUserDelete(r.id)},children:l?"Stop game":"Exit game"})})]})]})},Gt=function(){return"_".concat(Math.random().toString(36).substr(2,9))},Lt=r(4040),_t=function(e){var t=e.score,r=e.percentage,n=e.pointsShortName,s=(0,z.jsx)("img",{src:Lt,className:"coffee-icon",alt:""}),a=(t===W.XE?"PASS":t===W.in&&s)||t&&"".concat(t," ").concat(n);return(0,z.jsxs)("div",{className:"stats-item",children:[(0,z.jsx)("div",{className:"stats-item-value",children:a}),(0,z.jsxs)("div",{className:"stats-item-score",children:[r,"%"]})]})},Mt=function(e){var t=e.handleStartRound,r=e.handleFinishRound,n=(0,u.v9)((function(e){return e.game.currentIssue})),s=(0,u.v9)((function(e){return e.game.isRoundRunning})),i=(0,u.v9)((function(e){return e.game.settings})),o=(0,u.v9)((function(e){return e.game.isFlipped})),c=null!==i.timer,l=i.IsAutoreverseCards,d=!!n.id,m=!!n.score,f=n.userScore,p=f?function(e){var t={};e.forEach((function(e){e in t?t[e]+=1:t[e]=1}));var r=[];return Object.keys(t).forEach((function(n){r.push({score:n,percentage:Math.round(t[n]/e.length*100)})})),r}(f.map((function(e){return e.score}))):[],h=(0,u.v9)((function(e){return e.client.clientUser.role===a.DEALER})),g=(0,v.useContext)(J),j=p&&p.map((function(e){return(0,z.jsx)(_t,{score:e.score,percentage:e.percentage,pointsShortName:"SP"},Gt())})),b=(0,z.jsx)("div",{className:"current-issue-btn",children:(0,z.jsx)(Ne.Z,{color:"primary",variant:m?"outlined":"contained",onClick:t,children:"".concat(m?"Replay":"Play"," round")})}),x=(0,z.jsx)("div",{className:"current-issue-btn",children:(0,z.jsx)(Ne.Z,{variant:"contained",onClick:r,children:"Finish round"})}),y=(0,z.jsx)("div",{className:"current-issue-btn",children:(0,z.jsx)(Ne.Z,{variant:"contained",onClick:function(){return g.requestFlipCards(!0)},children:"Flip cards"})}),N=(0,z.jsxs)("div",{className:"current-issue-details",children:[(0,z.jsx)("span",{children:"Stats: "}),(0,z.jsx)("div",{className:"stats-items",children:j})]}),S=(0,z.jsxs)("div",{className:"current-issue-details",children:[(0,z.jsx)("span",{children:"Description: "}),n.description]}),O=(0,z.jsxs)("div",{className:"round-section",children:[(0,z.jsx)("h3",{children:"Current issue:"}),(0,z.jsxs)("div",{className:"current-issue-details",children:[(0,z.jsx)("span",{children:"Title: "}),n.name]}),(0,z.jsxs)("div",{className:"current-issue-details",children:[(0,z.jsx)("span",{children:"Priority: "}),n.priority]}),n.description&&S,(0,z.jsxs)("div",{className:"current-issue-details current-issue-score",children:[(0,z.jsx)("span",{children:"Score: "}),n.score||"---"]}),(0,z.jsx)("div",{className:"current-issue-score-input",children:h&&(0,z.jsx)(Se,{buttonText:"Set score",initialValue:n.score||"",valueHandler:function(e){g.requestSetScore(e)}})}),!o&&s&&!c&&!l&&y,h&&(s?(o&&c||!c)&&x:b),!!j.length&&(h||o)&&N]});return d&&O||null},Bt=function(e){var t=e.name,r=e.value,n=e.image,a=e.isFlipped,i=e.isSelected,o=e.onSelectedHandler,c=(0,z.jsx)("img",{src:Lt,alt:"",className:"card-icon"}),l=a?"game-card untouchable-card":"game-card";return(0,z.jsx)(ne.Z,{className:l,onClick:function(){return o(r)},children:a?(0,z.jsx)(wt.Z,{component:"img",alt:"cover card",height:"120",image:n}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"game-card-name",children:t}),(0,z.jsx)("div",{className:"game-card-value",children:r===s.COFFEE?c:r}),i&&(0,z.jsx)("div",{className:"game-card-select-bg-color",children:(0,z.jsx)("div",{className:"game-card-select-icon"})})]})})},Ht=function(){var e=(0,u.v9)((function(e){return e.game.settings})),t=(0,u.v9)((function(e){return e.game.isFlipped})),r=e.unitsOfEstimation.scoreTypeShort,n=e.coverCardforServer,s=(0,v.useState)(""),a=(0,m.Z)(s,2),i=a[0],o=a[1],c=e.cardSet,l=(0,v.useContext)(J),d=function(e){o(e),l.requestRoundVote(e)},f=c.map((function(e){return{name:r,value:e,image:n.image}}));return(0,z.jsx)("div",{className:"game-voting-section",children:(0,z.jsx)("div",{className:"game-card-container",children:f.map((function(e){var r=e.name,n=e.value,s=e.image;return(0,z.jsx)(Bt,{name:r,value:n,image:s,isSelected:n===i,onSelectedHandler:d,isFlipped:t},n)}))})})},Wt=(0,Q.Z)({card:{minWidth:"100px",height:"50px",display:"flex",justifyContent:"space-between",alignItems:"center"},status:{minWidth:"50px",textAlign:"center"}}),zt=function(e){var t=e.score,r=e.cardValueScore,n=e.isScoreHidden,a=Wt(),i="--",o=(0,z.jsx)("div",{className:"score-coffee-icon",children:(0,z.jsx)("img",{src:Lt,alt:""})}),c=t||i,l=t===s.COFFEE;return(0,z.jsxs)(ne.Z,{className:a.card,children:[!n&&l?o:(0,z.jsx)(se.Z,{className:a.status,title:n?i:c}),(0,z.jsx)(se.Z,{title:n?i:r,titleTypographyProps:{variant:"h6"}})]})},Jt=function(){var e=(0,u.v9)((function(e){return e.game.users})),t=(0,u.v9)((function(e){return e.game.isFlipped})),r=(0,u.v9)((function(e){return e.client.clientUser.role===a.DEALER})),n=e.filter((function(e){return e.role===a.MEMBER})),i=(0,u.v9)((function(e){return e.game.settings.unitsOfEstimation.scoreTypeShort})),o=(0,u.v9)((function(e){return e.game.currentIssue.userScore})),c="---",l=n.map((function(e){if(!o)return c;var t=o.find((function(t){return t.userID===e.id}));return(null==t?void 0:t.score)||c})),d=!(r||t);return(0,z.jsxs)("div",{className:"players-section-items",children:[(0,z.jsx)("div",{className:"players-section-title",children:"Score:"}),l.map((function(e){return(0,z.jsx)(zt,{score:e,isScoreHidden:d,cardValueScore:e!==s.COFFEE&&e!==s.PASS&&e!==c?i:""},Gt())}))]})},Kt=function(){var e=(0,u.v9)((function(e){return e.game.users})),t=(0,u.v9)((function(e){return e.client.clientUser.role===a.DEALER}))||e.length>=W.H7,r={widthCard:"190px",heightCard:"50px",widthHeader:"110px",widthAvatar:"30px",heightAvatar:"30px",nameTruncate:10,roleTruncate:20,titleTypography:"h6",subtitleTypography:"subtitle2"},n=e.filter((function(e){return e.role===a.MEMBER})),s=e.filter((function(e){return e.role===a.OBSERVER})),i=(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"players-section-title",children:"Players:"}),n.map((function(e){return(0,z.jsx)(vt,{firstName:e.firstName,lastName:e.lastName,id:e.id,role:e.role,isRemoveButtonDisabled:!t,stylesProps:r,gameRole:e.role,avatarImage:e.avatar},e.id)}))]}),o=(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{className:"players-section-title",children:"Observers:"}),s.map((function(e){return(0,z.jsx)(vt,{firstName:e.firstName,lastName:e.lastName,id:e.id,role:e.role,isRemoveButtonDisabled:!t,stylesProps:r,gameRole:e.role,avatarImage:e.avatar},e.id)}))]});return(0,z.jsxs)("div",{className:"players-section",children:[!!e.length&&(0,z.jsx)(Jt,{}),(0,z.jsxs)("div",{className:"players-section-items",children:[!!n.length&&i,!!s.length&&o]})]})};const Yt=[{path:"/",component:Ue,key:"1"},{path:"/lobby",component:function(){var e=(0,u.v9)((function(e){return e.client.isDealerLobby})),t=(0,u.v9)((function(e){return e.game.users})),r=(0,v.useState)(),n=(0,m.Z)(r,2),s=n[0],a=n[1];return(0,z.jsx)("div",{className:"container",children:(0,z.jsx)("div",{className:"lobby-page",children:(0,z.jsxs)("div",{className:"lobby-content",children:[(0,z.jsx)(Be,{isDealerLobby:e,lobbyGameSettings:s}),!!t.length&&(0,z.jsx)(ft,{isDealerLobby:e,members:t}),e&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(st,{sectionTitle:"Issues:"}),(0,z.jsx)(qt,{changePokerGameSettings:function(e){a(e)}})]})]})})})},key:"2"},{path:"/game",component:function(){var e=(0,u.v9)((function(e){return e.game.settings.timer})),t=(0,u.v9)((function(e){return e.client.clientUser})),r=(0,u.v9)((function(e){return e.game.isRoundRunning})),n=(0,u.v9)((function(e){return e.game.settings})),s=(0,u.v9)((function(e){return e.game})),i=s.currentIssue?s.currentIssue.userScore:null,o=(0,v.useState)(e),c=(0,m.Z)(o,2),l=c[0],d=c[1],f=(0,v.useState)(null),p=(0,m.Z)(f,2),h=p[0],g=p[1],j=t&&t.role===a.DEALER,b=j&&n.isDealerPlayer||t&&t.role===a.MEMBER||!1,x=(0,v.useContext)(J),y=function(){h&&clearInterval(h),d(e)};return(0,v.useEffect)((function(){r&&n.timer?function(){h&&y();var e=setInterval((function(){d((function(r){return r<=0?(clearInterval(e),t.role===a.DEALER&&x.requestFlipCards(!0),0):r-1}))}),1e3);g(e)}():y()}),[r]),(0,v.useEffect)((function(){!function(){if(n.IsAutoreverseCards&&t.role===a.DEALER){var e=s.users.map((function(e){return e.role===a.MEMBER})).length;n.isDealerPlayer&&(e+=1),i&&e===i.length&&(x.requestFlipCards(!0),y())}}()}),[i]),(0,z.jsx)("main",{className:"main",children:(0,z.jsxs)("div",{className:"container content-wrapper game-page",children:[(0,z.jsx)("div",{className:"game-page-content",children:(0,z.jsxs)("div",{className:"game-page-main-content",children:[(0,z.jsx)(Vt,{timerSecs:l,client:t}),(0,z.jsxs)("div",{className:"game-round-issues-section",children:[(0,z.jsx)("div",{className:"game-issues-section",children:(0,z.jsx)("div",{className:"game-page-issues",children:(0,z.jsx)(st,{sectionTitle:j?"Select Issue:":"Issues:"})})}),(0,z.jsx)("div",{className:"game-round-section",children:(0,z.jsx)(Mt,{handleStartRound:function(){x.requestStartRound()},handleFinishRound:function(){x.requestFinishRound()}})}),(0,z.jsx)("div",{className:"game-page-players-section",children:(0,z.jsx)(Kt,{})})]})]})}),r&&b&&(0,z.jsx)(Ht,{})]})})},key:"3"},{path:"/result",component:function(){return(0,z.jsx)("main",{className:"main",children:(0,z.jsx)("div",{className:"container content-wrapper",children:(0,z.jsx)("h1",{children:"Result page"})})})},key:"4"},{path:"/test",component:function(){return(0,z.jsx)("main",{className:"main",children:(0,z.jsxs)("div",{className:"container content-wrapper game-page",children:[(0,z.jsx)("div",{className:"game-top-section",children:"Game Top Section"}),(0,z.jsx)("div",{className:"game-round-issues-section",children:"Game Round Issues Section"}),(0,z.jsx)(Ht,{})]})})},key:"5"},{path:"/link/:id",component:Ue,key:"6"}];var Xt=(0,Q.Z)({dialogTitle:{textAlign:"center"},dialogActions:{display:"flex",justifyContent:"space-between"}}),$t=function(){var e=(0,u.v9)((function(e){return e.deleteVoting.deleteVotingModalOpen})),t=(0,u.v9)((function(e){return e.deleteVoting.deleteVotingData.deleteUserFullName})),r=(0,u.v9)((function(e){return e.deleteVoting.deleteVotingData.removerUserFullName})),n=(0,u.v9)((function(e){return e.deleteVoting.deleteVotingData.deleteUserID})),s=(0,u.v9)((function(e){return e.client.clientUser})),a=Xt(),i=(0,v.useContext)(J),o=(0,u.I0)();return(0,z.jsxs)(at.Z,{className:"modal-dialog",open:e,onClose:function(){o(_(!1))},children:[(0,z.jsx)(it.Z,{className:a.dialogTitle,children:"Kick"}),(0,z.jsx)(ot.Z,{children:"".concat(r," want to kick ").concat(s&&n===s.id?"You":t||"","\n        . Are you agree with it?")}),(0,z.jsxs)(ct.Z,{className:a.dialogActions,children:[(0,z.jsx)(Ne.Z,{variant:"contained",onClick:function(){o(_(!1)),i.requestDeleteVoteFinish(!1)},children:"No"}),(0,z.jsx)(Ne.Z,{color:"primary",variant:"contained",onClick:function(){o(_(!1)),i.requestDeleteVoteFinish(!0)},children:"Yes"})]})]})},Qt=(0,Q.Z)({dialogTitle:{textAlign:"center"},dialogActions:{display:"flex",justifyContent:"end"}}),er=function(){var e=(0,v.useContext)(J),t=Qt(),r=function(){e.setNotification("")};return(0,z.jsxs)(at.Z,{className:"modal-dialog",open:!!e.notification,onClose:r,children:[(0,z.jsx)(it.Z,{className:t.dialogTitle,children:"Notification"}),(0,z.jsx)(ot.Z,{children:e.notification}),(0,z.jsx)(ct.Z,{className:t.dialogActions,children:(0,z.jsx)(Ne.Z,{color:"primary",variant:"contained",onClick:r,children:"Ok, I got it!"})})]})};const tr=function(){var e=(0,f.TH)(),t=Yt.map((function(e){var t=e.path,r=e.component,n=e.key;return(0,z.jsx)(f.AW,{exact:!0,path:t,component:r},n)}));return(0,z.jsxs)("div",{className:"app-container",children:[(0,z.jsx)(he,{}),(0,z.jsx)(X.Z,{exit:!1,children:(0,z.jsx)($.Z,{timeout:W.eR.V,classNames:"transition",children:(0,z.jsx)(f.rs,{location:e,children:t})},e.key)}),(0,z.jsx)(ye,{}),(0,z.jsx)($t,{}),(0,z.jsx)(er,{})]})};var rr=r(4890);function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ar={clientUser:{firstName:"Alejandro",lastName:"Sanchez",id:123,role:W.V6},isDealerLobby:!1};function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cr={users:[],title:"",room:"",dealer:{},settings:{room:"",isDealerPlayer:!1,cardSet:[],isFreeConnectionToGameForNewUsers:!1,isChangeChoiceAfterFlip:!1,isRevoteAfterRoundEnd:!1,timer:null,isSetIssuesFromFile:!1,IsAutoreverseCards:!1,unitsOfEstimation:{scoreType:"",scoreTypeShort:""},coverCardforServer:{}},gameStatus:"",issues:[],currentIssue:{},isRoundRunning:!1,isFlipped:!1};function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dr={socketError:!1};function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fr={isVoting:!1,deleteVotingModalOpen:!1,deleteVotingData:{removerUserID:"",removerUserFullName:"",deleteUserID:"",deleteUserFullName:""}};function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach((function(t){(0,Oe.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gr={messages:[]},jr=(0,rr.UY)({socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr,t=arguments.length>1?arguments[1]:void 0,r=t.type;switch(r){case h:return ur(ur({},e),{},{socketError:!1});case g:return ur(ur({},e),{},{socketError:!0});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case b:return or(or({},e),n.game);case x:var s=e.users.slice();return s.push(n.user),or(or({},e),{},{users:s});case N:var a=e.users.filter((function(e){return e.id!==n.userID}));return or(or({},e),{},{users:a});case S:return or(or({},e),{},{title:n.title});case I:var i=n.issues,o=e.currentIssue.id;return i.length?(i.forEach((function(e){e.id===o?e.isActive=!0:e.isActive=!1})),or(or({},e),{},{issues:i})):or(or({},e),{},{issues:i,currentIssue:{}});case P:return or(or({},e),{},{gameStatus:n.gameStatus});case k:return or(or({},e),{},{gameStatus:W.W$,settings:or({},n)});case Z:var c,l=n.issueID,u=e.issues.slice();return u.forEach((function(e){e.id===l?(c=e,e.isActive=!0):e.isActive=!1})),c?or(or({},e),{},{currentIssue:c,issues:u}):e;case T:return or(or({},e),{},{isRoundRunning:n.isRoundRunning});case R:var d=e.currentIssue;return or(or({},e),{},{currentIssue:or(or({},d),{},{userScore:n.roundVoteResults.score})});case F:return or(or({},e),{},{isFlipped:n.isFlipped});case A:var m=e.currentIssue,v=n.scoreData,f=e.issues.slice().map((function(e){return e.id===v.issueID?or(or({},e),{},{score:v.score}):e}));return or(or({},e),{},{issues:f,currentIssue:or(or({},m),{},{score:v.score})});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case j:return sr(sr({},e),{},{clientUser:n.user});case y:return sr(sr({},e),{},{isDealerLobby:n.isDealer});default:return e}},deleteVoting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case C:return vr(vr({},e),{},{isVoting:!0,deleteVotingModalOpen:!0},n);case w:return vr(vr({},e),fr);case D:return vr(vr({},e),{},{deleteVotingModalOpen:n});default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case E:return hr(hr({},e),{},{messages:n.messages});default:return e}}});var br=rr.qC;const xr=(0,rr.MT)((function(e,t){return t.type===O?jr(void 0,t):jr(e,t)}),br());var yr=(0,r(7850).Z)({overrides:{MuiTypography:{subtitle1:{color:"#424242",fontSize:"0.75rem"},subtitle2:{color:"#424242",fontSize:"0.5rem"},h5:{color:"#424242",fontSize:"1.25rem",lineHeight:"1.2",letterSpacing:"0.01em"},h6:{color:"#424242",fontSize:"1rem",lineHeight:"1.2",letterSpacing:"0.01em",fontWeight:"normal"}}}});(0,c.render)((0,z.jsx)(u.zt,{store:xr,children:(0,z.jsx)(d.Z,{theme:yr,children:(0,z.jsx)(l.VK,{children:(0,z.jsx)(Y,{children:(0,z.jsx)(tr,{})})})})}),document.getElementById("root"))},4040:(e,t,r)=>{e.exports=r.p+"assets/fb0e3127cd59bd91d02f.svg"},2485:(e,t,r)=>{e.exports=r.p+"assets/338e79e2ad0e8f8a35a5.svg"},6443:(e,t,r)=>{e.exports=r.p+"assets/376398d956de28d90272.svg"},2525:(e,t,r)=>{e.exports=r.p+"assets/488cd12060e51eecfbd8.svg"},1654:(e,t,r)=>{e.exports=r.p+"assets/db1e26b26a150050ce9e.svg"},3991:(e,t,r)=>{e.exports=r.p+"assets/1437ab7abd1460978524.svg"},9655:(e,t,r)=>{e.exports=r.p+"assets/c2f79dd257f9949ed270.svg"},3637:(e,t,r)=>{e.exports=r.p+"assets/9e9752b2c0ee74703984.svg"}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,s,a)=>{if(!r){var i=1/0;for(l=0;l<e.length;l++){for(var[r,s,a]=e[l],o=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(o=!1,a<i&&(i=a));o&&(e.splice(l--,1),t=s())}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[r,s,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var s,a,[i,o,c]=r,l=0;for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(c)var u=c(n);for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[i[l]]=0;return n.O(u)},r=self.webpackChunkpointing_poker=self.webpackChunkpointing_poker||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=n.O(void 0,[859],(()=>n(3609)));s=n.O(s)})();